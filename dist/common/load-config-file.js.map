{"version":3,"file":"load-config-file.js","sources":["../../src/common/load-config-file.ts"],"sourcesContent":["import path from 'path'\nimport { existsSync, readFileSync } from 'fs'\nimport { ActionInput } from 'src/types'\n\nexport const loadConfigFile = (\n  configFilename: ActionInput['config-name']\n): string => {\n  const contextPath = path.resolve(\n    process.env.GITHUB_WORKSPACE || '',\n    '.github'\n  )\n  if (!existsSync(contextPath)) {\n    throw new Error(\n      `GITHUB_WORKSPACE is not set or the path does not exist: ${contextPath}`\n    )\n  }\n\n  const configPath = path.join(contextPath, configFilename)\n\n  if (!existsSync(configPath)) {\n    throw new Error(\n      `Config file not found: ${configPath}. Did you clone your sources ? (ex: using @actions/checkout)`\n    )\n  }\n\n  return readFileSync(configPath, 'utf8')\n}\n"],"names":[],"mappings":";;AAIO,MAAM,iBAAiB,CAC5B,mBACW;AACX,QAAM,cAAc,KAAK;AAAA,IACvB,QAAQ,IAAI,oBAAoB;AAAA,IAChC;AAAA,EAAA;AAEF,MAAI,CAAC,WAAW,WAAW,GAAG;AAC5B,UAAM,IAAI;AAAA,MACR,2DAA2D,WAAW;AAAA,IAAA;AAAA,EAE1E;AAEA,QAAM,aAAa,KAAK,KAAK,aAAa,cAAc;AAExD,MAAI,CAAC,WAAW,UAAU,GAAG;AAC3B,UAAM,IAAI;AAAA,MACR,0BAA0B,UAAU;AAAA,IAAA;AAAA,EAExC;AAEA,SAAO,aAAa,YAAY,MAAM;AACxC;"}