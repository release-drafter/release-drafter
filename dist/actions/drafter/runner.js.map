{"version":3,"file":"runner.js","sources":["../../../src/actions/drafter/runner.ts"],"sourcesContent":["import * as core from '@actions/core'\nimport { main } from './main'\nimport {\n  getActionInput,\n  loadConfigFile,\n  mergeInputAndConfig,\n  parseConfigFile\n} from 'src/common'\n\n/**\n * The main function for the action.\n *\n * @returns Resolves when the action is complete.\n */\nexport async function run(): Promise<void> {\n  try {\n    core.info('Parsing inputs and configuration...')\n    /**\n     * TODO loading config should not come from utils but from drafter directly\n     */\n    const input = getActionInput()\n    const config = mergeInputAndConfig({\n      config: await parseConfigFile(loadConfigFile(input['config-name'])),\n      input\n    })\n\n    await main({ input, config })\n  } catch (error) {\n    // Fail the workflow run if an error occurs\n    if (error instanceof Error) core.setFailed(error.message)\n  }\n}\n"],"names":["core.info","core.setFailed"],"mappings":";;;;;;;;;AAcA,eAAsB,MAAqB;AACzC,MAAI;AACFA,gBAAAA,KAAU,qCAAqC;AAI/C,UAAM,QAAQ,eAAA;AACd,UAAM,SAAS,oBAAoB;AAAA,MACjC,QAAQ,MAAM,gBAAgB,eAAe,MAAM,aAAa,CAAC,CAAC;AAAA,MAClE;AAAA,IAAA,CACD;AAED,UAAM,KAAK,EAAE,OAAO,QAAQ;AAAA,EAC9B,SAAS,OAAO;AAEd,QAAI,iBAAiB,MAAOC,uBAAe,MAAM,OAAO;AAAA,EAC1D;AACF;"}