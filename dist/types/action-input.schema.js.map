{"version":3,"file":"action-input.schema.js","sources":["../../src/types/action-input.schema.ts"],"sourcesContent":["import { context } from '@actions/github'\nimport z from 'zod'\n\nexport const standaloneInputSchema = z\n  .object({\n    /**\n     * If your workflow requires multiple release-drafter configs it be helpful to override the config-name.\n     * The config should still be located inside `.github` as that's where we are looking for config files.\n     * @default 'release-drafter.yml'\n     */\n    'config-name': z.string().optional().default('release-drafter.yml'),\n    /**\n     * The name that will be used in the GitHub release that's created or updated.\n     * This will override any `name-template` specified in your `release-drafter.yml` if defined.\n     */\n    name: z.string().optional(),\n    /**\n     * The tag name to be associated with the GitHub release that's created or updated.\n     * This will override any `tag-template` specified in your `release-drafter.yml` if defined.\n     */\n    tag: z.string().optional(),\n    /**\n     * The version to be associated with the GitHub release that's created or updated.\n     * This will override any version calculated by the release-drafter.\n     */\n    version: z.string().optional(),\n    /**\n     * A boolean indicating whether the release being created or updated should be immediately published.\n     */\n    publish: z.stringbool().optional().default(false),\n    /**\n     * A boolean indicating whether the release being created or updated should be immediately published.\n     *\n     * Defaults to ${{ github.token }} in action inputs, or the GITHUB_TOKEN environment variable.\n     */\n    token: z\n      .string()\n      .min(1)\n      .default(process.env.GITHUB_TOKEN || ''),\n    /**\n     * A boolean indicating whether the releaser mode is disabled.\n     */\n    'disable-releaser': z.stringbool().default(false),\n    /**\n     * A boolean indicating whether the autolabeler mode is disabled.\n     */\n    'disable-autolabeler': z.stringbool().default(false)\n  })\n  .superRefine((data) => {\n    // Inject token into environment variable for use by octokit\n    if (data.token && !process.env.GITHUB_TOKEN) {\n      process.env.GITHUB_TOKEN = data.token\n    }\n  })\n\nexport const configOverridesInputSchema = z.object({\n  /**\n   * A boolean indicating whether the release being created or updated should be marked as latest.\n   */\n  latest: z.stringbool().optional().default(true),\n  /**\n   * A boolean indicating whether the release being created or updated is a prerelease.\n   */\n  prerelease: z.stringbool().optional().default(false),\n  /**\n   * When drafting your first release, limit the amount of scanned commits. Expects an ISO 8601 date. Default: undefined (scan all commits).\n   * @see https://zod.dev/api?id=iso-dates#iso-datetimes\n   */\n  'initial-commits-since': z.iso.datetime().optional(),\n  /**\n   * A string indicating an identifier (alpha, beta, rc, etc), to increment the prerelease version.\n   */\n  'prerelease-identifier': z.string().optional(),\n  /**\n   * A string specifying the target branch for the release being created.\n   */\n  commitish: z\n    .string()\n    .optional()\n    .default(context.ref || context.payload.ref),\n  /**\n   * A string that would be added before the template body.\n   */\n  header: z.string().optional(),\n  /**\n   * A string that would be added after the template body.\n   */\n  footer: z.string().optional()\n})\n\nexport const actionInputSchema = standaloneInputSchema.and(\n  configOverridesInputSchema\n)\n\nexport type ActionInput = z.infer<typeof actionInputSchema>\nexport type StandaloneInput = z.infer<typeof standaloneInputSchema>\nexport type ConfigOverridesInput = z.infer<typeof configOverridesInputSchema>\n"],"names":["context"],"mappings":";;AAGO,MAAM,wBAAwB,EAClC,OAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAMN,eAAe,EAAE,OAAA,EAAS,SAAA,EAAW,QAAQ,qBAAqB;AAAA;AAAA;AAAA;AAAA;AAAA,EAKlE,MAAM,EAAE,OAAA,EAAS,SAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAKjB,KAAK,EAAE,OAAA,EAAS,SAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAKhB,SAAS,EAAE,OAAA,EAAS,SAAA;AAAA;AAAA;AAAA;AAAA,EAIpB,SAAS,EAAE,WAAA,EAAa,SAAA,EAAW,QAAQ,KAAK;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAMhD,OAAO,EACJ,OAAA,EACA,IAAI,CAAC,EACL,QAAQ,QAAQ,IAAI,gBAAgB,EAAE;AAAA;AAAA;AAAA;AAAA,EAIzC,oBAAoB,EAAE,aAAa,QAAQ,KAAK;AAAA;AAAA;AAAA;AAAA,EAIhD,uBAAuB,EAAE,WAAA,EAAa,QAAQ,KAAK;AACrD,CAAC,EACA,YAAY,CAAC,SAAS;AAErB,MAAI,KAAK,SAAS,CAAC,QAAQ,IAAI,cAAc;AAC3C,YAAQ,IAAI,eAAe,KAAK;AAAA,EAClC;AACF,CAAC;AAEI,MAAM,6BAA6B,EAAE,OAAO;AAAA;AAAA;AAAA;AAAA,EAIjD,QAAQ,EAAE,WAAA,EAAa,SAAA,EAAW,QAAQ,IAAI;AAAA;AAAA;AAAA;AAAA,EAI9C,YAAY,EAAE,WAAA,EAAa,SAAA,EAAW,QAAQ,KAAK;AAAA;AAAA;AAAA;AAAA;AAAA,EAKnD,yBAAyB,EAAE,IAAI,SAAA,EAAW,SAAA;AAAA;AAAA;AAAA;AAAA,EAI1C,yBAAyB,EAAE,OAAA,EAAS,SAAA;AAAA;AAAA;AAAA;AAAA,EAIpC,WAAW,EACR,OAAA,EACA,SAAA,EACA,QAAQA,cAAAA,QAAQ,OAAOA,sBAAQ,QAAQ,GAAG;AAAA;AAAA;AAAA;AAAA,EAI7C,QAAQ,EAAE,OAAA,EAAS,SAAA;AAAA;AAAA;AAAA;AAAA,EAInB,QAAQ,EAAE,OAAA,EAAS,SAAA;AACrB,CAAC;AAEM,MAAM,oBAAoB,sBAAsB;AAAA,EACrD;AACF;"}